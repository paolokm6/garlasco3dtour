<!doctype html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Modello 3D – SketchUp Viewer (Embed)</title>
    <meta name="description" content="Viewer interattivo del modello 3D incorporato da SketchUp 3D Warehouse." />
    <style>
      /* ——— Reset minimale ——— */
      *, *::before, *::after { box-sizing: border-box; }
      html, body { height: 100%; margin: 0; }
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:#0b0c10; color:#e8e8e8; }

      /* ——— Layout ——— */
      header { padding: 12px 16px; background: #111316; border-bottom: 1px solid #22262b; display:flex; align-items:center; justify-content:space-between; }
      header h1 { margin: 0; font-size: 16px; font-weight: 600; letter-spacing: .2px; }
      .actions { display:flex; gap:8px; }
      .btn { appearance:none; border:1px solid #2a2f36; background:#161a1f; color:#e8e8e8; padding:8px 12px; border-radius:10px; cursor:pointer; font-size:14px; }
      .btn:hover { background:#1b2127; }

      .viewer-wrap { height: calc(100% - 50px); /* header 50px approx */ }
      .viewer { width:100%; height:100%; border:0; display:block; }

      /* ——— Mobile fix (in caso di UI browser) ——— */
      @supports (-webkit-touch-callout: none) {
        .viewer-wrap { height: calc(100vh - 50px); }
      }

      .notice { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); background:#111316cc; border:1px solid #2a2f36; padding:6px 10px; border-radius:10px; font-size:12px; }
      .hide { display:none; }
    </style>
  </head>
  <body>
    <header>
      <h1>SketchUp Viewer – Embed</h1>
      <div class="actions">
        <a class="btn" target="_blank" rel="noopener" href="https://3dwarehouse.sketchup.com/embed/9271ee3c-046e-4dad-a2a5-5e16ec8e1f8e?token=mPfBWacQge8=&binaryName=s21">Apri in nuova scheda</a>
        <button class="btn" id="btnFull">Fullscreen</button>
      </div>
    </header>

    <div class="viewer-wrap">
      <iframe id="sketchfab" class="viewer" src="https://3dwarehouse.sketchup.com/embed/9271ee3c-046e-4dad-a2a5-5e16ec8e1f8e?token=mPfBWacQge8=&binaryName=s21" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" allowfullscreen title="SketchUp 3D Viewer"></iframe>
    </div>

    <noscript>
      Abilita JavaScript per visualizzare al meglio il contenuto incorporato.
    </noscript>

    <div id="notice" class="notice hide">Premi ESC per uscire dal fullscreen</div>

    <script>
      // Fullscreen API per l'iframe
      const btn = document.getElementById('btnFull');
      const iframe = document.getElementById('sketchfab');
      const notice = document.getElementById('notice');
      const fs = {
        req: (el) => el.requestFullscreen?.() || el.webkitRequestFullscreen?.() || el.msRequestFullscreen?.(),
        exit: () => document.exitFullscreen?.() || document.webkitExitFullscreen?.() || document.msExitFullscreen?.(),
        is: () => document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement
      };

      btn.addEventListener('click', () => {
        if (!fs.is()) {
          fs.req(iframe);
        } else {
          fs.exit();
        }
      });

      document.addEventListener('fullscreenchange', () => {
        notice.classList.toggle('hide', !fs.is());
        btn.textContent = fs.is() ? 'Esci Fullscreen' : 'Fullscreen';
      });
    </script>
  </body>
</html>
